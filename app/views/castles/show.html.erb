<div class="position-relative container">
  <div>
    <h1> <%= @castle.name %></h1>
    <p>Location: <%= @castle.location %></p>
    <p> <%= @castle.description %> </p>
    <p>Price: <%= @castle.price %>â‚¬ </p>
  </div>

<%= link_to "Book Now", castle_path(anchor: 'booking'), class: "btn btn-primary anchorbutton"  %>

  <div class="row">
    <div class="col-lg-6">
      <% @castle.photos.each do |photo| %>
        <%= cl_image_tag photo.key,
            width: 400, height: 300, crop: :fill %>
      <% end %>
    </div>
    <div class="col-lg-6">
      <div style="width: 582px; height: 300px;"
      data-controller="map"
      data-map-markers-value="<%= @marker.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>
  </div>
</div>

<div class="container mt-5" id="booking">
  <div class="bg-white rounded p-3 shadow">
    <h2> Book <%= @castle.name %> now </h2>
    <br>
    <%= simple_form_for [@castle, @booking] do |f| %>
      <%= f.input :comment %>
      <%= f.input :date_from %>
      <%= f.input :date_to %>
      <%= f.submit class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
